# 实验室管理系统项目进展与沟通记录

---

## 1. 已实现的功能
- 基础项目结构搭建（前端、后端、文档目录）
- FastAPI 后端基础服务启动与 CORS 配置
- 用户系统：
  - 用户表和 Pydantic 数据模型
  - 密码加密与校验（bcrypt）
  - JWT 生成与校验
  - 用户身份与权限依赖（管理员/普通用户）
  - 管理员注册用户接口
  - 用户登录接口
  - 接口文档（Swagger UI）中文化
  - 接口测试指南与常见问题说明
- 使用日志功能（后端API，前端页面结构初步完成）
- 前端日志管理页面支持表单提交、表格展示，支持错误提示、token校验、表单重置、字段类型转换、自动记录等功能。

---

## 2. 下一步计划实现的功能
- （请在每次讨论后补充/更新）
- **优先实现三大核心功能：**
  1. 半自动化记录实验材料和设备的使用日志功能
  2. 设备使用说明、材料参数说明的索引功能
  3. 设备使用和材料使用的预约申请功能
- 前端登录页中文化与简化
- 用户信息查询与修改接口
- 设备、材料、数据等核心业务模块的API设计与实现
- 日志功能前后端联调与完善（支持增查、表单、表格展示、错误提示、token校验、表单重置、字段类型转换、自动记录等）

---

## 3. 尚未实现但规划中的功能
- 设备管理模块（预约、状态、日志等）
- 材料管理模块（库存、归属、照片等）
- 实验数据管理与算法索引
- 协作讨论与问题反馈模块
- 角色与权限更细粒度控制
- 前后端分离部署与生产环境优化

---

## 4. 项目核心内容与重要说明
- 项目初衷：解决实验室设备、材料、数据管理混乱，提升研发效率
- 技术选型：
  - 前端：React + TypeScript + Ant Design
  - 后端：FastAPI + SQLAlchemy + JWT + SQLite/PostgreSQL
- 用户注册仅限管理员操作，普通用户不能自助注册
- 所有接口文档、错误提示、交互均已中文化，便于非专业开发者理解
- 维护注意：前端表单与后端API字段类型需严格对应，token校验与错误提示需全流程覆盖，日志表单提交后需重置，表格展示需包含所有核心字段。

---

## 5. 关键对话与决策记录
- 2024-06：决定采用 web 端响应式设计，兼容 PC 和移动端
- 2024-06：用户系统采用 JWT 认证，注册仅限管理员
- 2024-06：每次功能实现后同步补充 README.md 和本记录，便于团队交接与新成员快速上手
- 2024-06：如需更换开发设备或新成员加入，优先阅读本文件和 README.md
- 2024-06：明确开发优先级，先实现三大核心功能（日志、索引、预约），再考虑完善和扩展
- 2024-06：日志功能采用 RESTful API 设计，表结构与 docs/lab_database_design.html 保持一致
- 2024-06：前端页面结构已完成，下一步进行功能开发与接口联调

---

> 本文件由 AI 助手与项目负责人共同维护，建议每次重要讨论或功能变更后及时补充。